# AgentWorks Complete Environment Configuration
# Enhanced configuration for full infrastructure deployment
# Copy this to .env.local and customize for your environment

# ===========================================
# BASIC CONFIGURATION
# ===========================================

NODE_ENV=development
PROJECT_ID=agentworks-dev
REGION=us-central1
ENVIRONMENT=development

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# PostgreSQL connection
DATABASE_URL="postgresql://agentworks:password@localhost:5432/agentworks"

# Cloud SQL configuration (for production)
# DATABASE_CONNECTION_NAME=project-id:region:instance-name
# DATABASE_HOST=localhost  # When using Cloud SQL proxy
# DATABASE_PORT=5432
# DATABASE_NAME=agentworks
# DATABASE_USER=agentworks
# DATABASE_PASSWORD=secure_password

# Connection pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ===========================================
# SERVICE CONFIGURATION
# ===========================================

# Frontend
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_ENVIRONMENT=development

# API Gateway
API_GATEWAY_PORT=8080
API_GATEWAY_URL=http://localhost:8080

# Core Service
CORE_SERVICE_PORT=8000
CORE_SERVICE_URL=http://localhost:8000

# Agent Orchestrator
AGENT_ORCHESTRATOR_PORT=8001
AGENT_ORCHESTRATOR_URL=http://localhost:8001

# Provider Router
PROVIDER_ROUTER_PORT=8002
PROVIDER_ROUTER_URL=http://localhost:8002

# Log Streaming Service
LOG_STREAMING_PORT=8003
LOG_STREAMING_URL=http://localhost:8003

# Billing Service
BILLING_SERVICE_PORT=8004
BILLING_SERVICE_URL=http://localhost:8004

# ===========================================
# AUTHENTICATION & SECURITY
# ===========================================

# JWT configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# Session configuration
SESSION_SECRET=your-super-secret-session-key-change-in-production
COOKIE_SECRET=change-this-to-a-random-secret-in-production
SESSION_MAX_AGE=604800000

# Password hashing
BCRYPT_ROUNDS=12

# ===========================================
# LLM PROVIDER API KEYS
# ===========================================

# OpenAI (required for CEO CoPilot, Strategy, PRD agents)
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic (required for development agents)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Google AI (required for troubleshooting agent)
GOOGLE_AI_API_KEY=your-google-ai-api-key

# Nano Banana (optional for video processing)
NANOBANANA_API_KEY=your-nanobanana-api-key

# ===========================================
# BILLING & PAYMENTS
# ===========================================

# Stripe configuration
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Billing configuration
MARKUP_MULTIPLIER=5.0
BILLING_INCREMENT=0.25
MIN_CHARGE_AMOUNT=0.25

# ===========================================
# GOOGLE CLOUD PLATFORM
# ===========================================

# Project configuration
GOOGLE_CLOUD_PROJECT=agentworks-dev
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# Service account (for local development)
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account-key.json

# Pub/Sub topics (auto-configured by Terraform)
CARD_EVENTS_TOPIC=agentworks-dev-card-events
CARD_EVENTS_SUBSCRIPTION=agentworks-dev-card-events-orchestrator
AGENT_RUNS_TOPIC=agentworks-dev-agent-runs
AGENT_RUNS_SUBSCRIPTION=agentworks-dev-agent-runs-logging
USAGE_EVENTS_TOPIC=agentworks-dev-usage-events
USAGE_EVENTS_SUBSCRIPTION=agentworks-dev-usage-events-billing

# Cloud Storage buckets
LOGS_BUCKET=agentworks-dev-logs-xxxxx
EXPORTS_BUCKET=agentworks-dev-exports-xxxxx
UPLOADS_BUCKET=agentworks-dev-uploads-xxxxx

# Artifact Registry
ARTIFACT_REGISTRY_REPO=agentworks-dev-repo

# ===========================================
# REDIS CACHE (OPTIONAL)
# ===========================================

# Redis connection
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Cache configuration
CACHE_TTL=3600
SESSION_STORE=redis

# ===========================================
# FIRESTORE (DOCUMENT STORAGE)
# ===========================================

# Firestore database
FIRESTORE_DATABASE_ID=(default)
FIRESTORE_LOCATION=us-central

# ===========================================
# MONITORING & LOGGING
# ===========================================

# Log configuration
LOG_LEVEL=debug
LOG_FORMAT=json
ENABLE_QUERY_LOG=true
ENABLE_REQUEST_LOGGING=true

# Sentry (error tracking)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# Google Cloud Monitoring
ENABLE_CLOUD_MONITORING=true
ENABLE_CLOUD_TRACE=true

# ===========================================
# DEVELOPMENT TOOLS
# ===========================================

# Development features
ENABLE_DEV_TOOLS=true
ENABLE_PRISMA_STUDIO=true
ENABLE_DEBUG_MODE=true

# Hot reload
FAST_REFRESH=true
WATCH_FILES=true

# API documentation
ENABLE_API_DOCS=true
API_DOCS_PATH=/docs

# ===========================================
# FEATURE FLAGS
# ===========================================

# Experimental features
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_BETA_MODELS=false
ENABLE_ADVANCED_BILLING=false
ENABLE_REALTIME_COLLABORATION=true

# Agent features
ENABLE_AGENT_STREAMING=true
ENABLE_AGENT_TOOLS=true
ENABLE_CUSTOM_AGENTS=false

# ===========================================
# PERFORMANCE TUNING
# ===========================================

# Request handling
REQUEST_TIMEOUT=30000
MAX_REQUEST_SIZE=10mb
BODY_PARSER_LIMIT=10mb

# Concurrency
WORKER_PROCESSES=auto
WORKER_THREADS=4
MAX_CONCURRENT_REQUESTS=100

# Rate limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# ===========================================
# CORS & SECURITY
# ===========================================

# CORS configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
ALLOW_CREDENTIALS=true
MAX_AGE=86400

# Security headers
FORCE_HTTPS=false
ENABLE_HSTS=false
ENABLE_CSP=true
CSP_REPORT_ONLY=true

# IP filtering
TRUSTED_PROXIES=127.0.0.1,::1
ENABLE_IP_FILTERING=false

# ===========================================
# WEBHOOKS & INTEGRATIONS
# ===========================================

# GitHub integration (for repository linking)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Slack integration (for notifications)
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_WEBHOOK_URL=your-slack-webhook-url

# ===========================================
# EMAIL CONFIGURATION
# ===========================================

# SMTP settings (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email templates
FROM_EMAIL=noreply@agentworks.com
FROM_NAME=AgentWorks

# ===========================================
# TESTING CONFIGURATION
# ===========================================

# Test database
TEST_DATABASE_URL=postgresql://agentworks:password@localhost:5432/agentworks_test

# Test environment
TEST_TIMEOUT=30000
ENABLE_TEST_COVERAGE=true

# ===========================================
# DEVELOPMENT OVERRIDES
# ===========================================

# Override any settings for local development
# Uncomment and modify as needed:

# NODE_ENV=development
# LOG_LEVEL=debug
# ENABLE_CORS=true
# DISABLE_AUTH=false  # Never disable in production!
# MOCK_EXTERNAL_APIS=false

# ===========================================
# PRODUCTION SETTINGS
# ===========================================

# These should be set via Terraform/infrastructure:
# - All GCP resource names and connection strings
# - API keys stored in Secret Manager
# - Environment-specific URLs and configurations
# - Security and monitoring settings